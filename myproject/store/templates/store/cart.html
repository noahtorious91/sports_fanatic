{% extends 'store/base.html' %}
{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'store/cart.css' %}">
{% endblock %}

{% block title %}Your Cart - MyShop{% endblock %}

{% block content %}
    <h1>Your Cart</h1>
    {% if cart_items %}
        <div class="cart-container">
            {% for item in cart_items %}
                <div class="cart-item">
                    {% if item.product.image %}
                        <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="cart-item-image">
                        {% else %}
                        <img src="{% static 'store/default-product.png' %}" alt="Default Product" class="cart-item-image">
                        {% endif %}
                    <div class="cart-item-details">
                        <h3>{{ item.product.name }}</h3>
                        <p>Price: ${{ item.product.price }}</p>
                        <p>Quantity: {{ item.quantity }}</p>
                        <a href="{% url 'remove_from_cart' item.product.id %}" class="remove-btn">Remove</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="cart-total">
            <p><strong>Total:</strong> ${{ total_price }}</p>
        </div>
    {% else %}
        <p>Your cart is empty.</p>
    {% endif %}
    <a href="{% url 'product_list' %}" class="continue-shopping-btn">Continue Shopping</a>
{% endblock %}